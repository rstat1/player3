{
	'targets':
	[
		{
			'target_name': 'player3',
			'type': 'executable',
			'include_dirs': [
				'../src/',
				'../external',
				"../external/ffmpeg",
				'../external/sdl/include/',
				'../external/cpr/include/',
			],
			'cflags': [
				'-fPIC',
			],
			'cflags_c': [
				'-std=gnu11'
			],
			'cflags_cc': [
				'-frtti',
				'-std=c++11',
				'-g3', '-g'
			],
			'defines': [
				'LINUX',
				'UWS_THREADSAFE',
			],
			'link_settings': {
				'libraries': [
					'-lz',
					'-lssl',
					'-lcrypto',
					'-pthread',
					'-lSDL2',
					'-lSDL2_ttf',
					'-lcurl',
				]
			},
			'conditions': [
				['skylight_arch=="x86_64"', {
					'defines': [
						'NANOVG_GLEW',
						'RMT_USE_OPENGL=1',
					],
					'link_settings': {
						'libraries': [
							'-lGL',
							'-lGLU',
							'-lm',
							'<(buildPath)/external/libs/linux/x86_64/libGLEW.a',
							'<(buildPath)/external/libs/linux/x86_64/libboost_system.a',
							'<(buildPath)/external/libs/linux/x86_64/libboost_filesystem.a',
							'-ldl',
							'-lrt',
							'-lm',
							 '../external/libs/linux/x86_64/libavformat.a',
							 '../external/libs/linux/x86_64/libavcodec.a',
							 '../external/libs/linux/x86_64/libavutil.a',
							 '../external/libs/linux/x86_64/libswresample.a',
						],
					},
					'sources': [
						'../src/platform/desktop/DesktopPlatform.cpp',
						'../src/platform/desktop/DesktopPlatform.h',
					]
				}],
				['skylight_arch=="armv7l"', {
					'link_settings': {
						'libraries': [
							'-lEGL',
							'-lGLESv2',
							'-lrt',
							'-ldl',
							'<(buildPath)/external/libs/linux/armv7l/libboost_system.a',
							'<(buildPath)/external/libs/linux/armv7l/libboost_filesystem.a',
							'../external/libs/linux/armv7l/libswresample.a',
							'../external/libs/linux/armv7l/libavformat.a',
							'../external/libs/linux/armv7l/libavcodec.a',
							'../external/libs/linux/armv7l/libavutil.a',
							'-lSLVideo',
							'-lSLAudio',
						],
					},
					'sources': [
						'../src/platform/steamlink/SteamLinkPlatform.cpp',
						'../src/platform/steamlink/SteamLinkPlatform.h',
					]
				}],
				['with_profiler==1', {
				    'cflags_c': [
				        '-std=gnu11'
				    ],
					'sources':[
						'../external/remotery/Remotery.c',
						'../external/remotery/Remotery.h',
					],
				}],
			],
			'sources': [
				'../external/nanovg/nanovg.c',
				'../src/main.cpp',
				'../src/App.cpp',
				'../src/App.h',
				'../src/player/Player.cpp',
				'../src/player/infooverlay/InfoOverlay.cpp',
				'../src/ui/web/UIServer.cpp',
				'../src/ui/web/packaging/Archive.cpp',
				'../src/ui/web/packaging/AsarResponse.cpp',
				'../src/ui/web/handlers/WebPageHandler.cpp',
				'../src/ui/web/handlers/WebSocketHandler.cpp',
				'../src/ui/web/packaging/File.cpp',
				'../src/ui/native/rendering/NanoVGRenderer.cpp',
				'../src/ui/native/NativeUIHost.cpp',
				'../src/platform/PlatformManager.cpp',
				'../src/ui/native/LayoutManager.cpp',
				'../src/ui/native/elements/LabelElement.cpp',
				'../src/player/chat/ChatService.cpp',
				'../src/ui/native/EventHub.cpp',
				'../src/ui/native/elements/containers/BlockElement.cpp',
				'../src/ui/native/elements/containers/ListBlockElement.cpp',
				'../src/player/chat/ChatUI.cpp',
				'../src/ui/web/UIServer.h',
				'../src/player/Player.h',
				'../src/player/infooverlay/InfoOverlay.h',
				'../src/player/VideoPlayerBase.h',
				'../src/platform/Platfroms.h',
				'../src/platform/PlatformInterface.h',
				'../src/ui/web/packaging/Archive.h',
				'../src/ui/web/handlers/WebPageHandler.h',
				'../src/ui/web/handlers/WebSocketHandler.h'
				'../src/ui/native/rendering/NanoVGDefines.h',
				'../src/ui/native/rendering/NanoVGRenderer.h',
				'../src/ui/native/rendering/RendererTypes.h',
				'../src/ui/web/packaging/File.h',
				#'../src/BuildInfo.h',
				'../src/ui/native/NativeUIHost.h',
				'../src/platform/PlatformManager.h',
				'../src/ui/native/LayoutManager.h',
				'../src/ui/native/LayoutManagerBase.h',
				'../src/ui/native/elements/LabelElement.h',
				'../src/player/chat/ChatService.h',
				'../src/ui/native/EventHub.h',
				'../src/ui/native/elements/containers/BlockElement.h',
				'../src/ui/native/elements/containers/ListBlockElement.h',
				'../src/player/chat/ChatUI.h',
				'../external/nanovg/stb_image.h',
				'../external/nanovg/stb_truetype.h',
				'../external/nanovg/nanovg.h',
				'../external/nanovg/nanovg_gl.h',
				'../external/nanovg/nanovg_gl_utils.h',
				'../external/nanovg/fontstash.h',
				'../src/base/Utils.cpp',
				'../src/base/logging.cpp',
				'../src/base/threading/Thread.cpp',
				'../src/base/threading/TaskRunner.cpp',
				'../src/base/threading/dispatcher/Dispatcher.cpp',
				'../src/base/pickle/PickleIterator.cpp',
				'../src/base/pickle/Pickle.cpp',
				'../src/base/pickle/Pickle.h',
				'../src/base/common.h',
				'../src/base/Utils.h',
				'../src/base/logging.h',
				'../src/base/base_exports.h',
				'../src/base/threading/common/ConditionVariable.h',
				'../src/base/threading/common/Thread.h',
				'../src/base/threading/common/thread_types.h',
				'../src/base/threading/dispatcher/MessagePump.h',
				'../src/base/threading/dispatcher/Dispatcher.h',
				'../src/base/threading/dispatcher/DispatcherMessagePump.h',
				'../src/base/threading/dispatcher/DispatcherTypes.h',
				'../src/base/threading/common/PlatformThread.h',
				'../src/base/threading/common/TaskRunner.h',
				'../src/base/platform/linux/memtrack.cpp',
				'../src/base/platform/linux/threading/PlatformThreadPosix.cpp',
				'../src/base/platform/linux/threading/ConditionVariablePosix.cpp',
				'../src/base/platform/linux/dispatcher/MessagePumpEPoll.cpp',
				'../src/base/platform/linux/dispatcher/MessagePumpEPoll.h',
				'../src/base/platform/linux/dispatcher/DispatcherTypesLinux.h',
				'../src/base/platform/linux/memtrack.h',
				'../src/App.h',
				'../src/App.cpp',
				'../src/player/Player.cpp',
				'../src/player/Player.h',
				'../src/player/VideoPlayerBase.h',
				'../src/platform/PlatformManager.cpp',
				'../src/platform/PlatformManager.h',
				'../src/player/infooverlay/InfoOverlay.cpp',
				'../src/player/infooverlay/InfoOverlay.h',
				'../src/base/platform/linux/memtrack.cpp',
				'../src/base/platform/linux/memtrack.h',
				'../external/jsoncpp/jsoncpp.cpp',
				'../external/jsoncpp/json/json.h',
				'../external/uWS/src/Asio.h',
				'../external/uWS/src/Backend.h',
				'../external/uWS/src/Epoll.cpp',
				'../external/uWS/src/Epoll.h',
				'../external/uWS/src/Extensions.cpp',
				'../external/uWS/src/Extensions.h',
				'../external/uWS/src/Group.cpp',
				'../external/uWS/src/Group.h',
				'../external/uWS/src/HTTPSocket.cpp',
				'../external/uWS/src/HTTPSocket.h',
				'../external/uWS/src/Hub.cpp',
				'../external/uWS/src/Hub.h',
				'../external/uWS/src/Libuv.h',
				'../external/uWS/src/Networking.cpp',
				'../external/uWS/src/Networking.h',
				'../external/uWS/src/Node.cpp',
				'../external/uWS/src/Node.h',
				'../external/uWS/src/Socket.cpp',
				'../external/uWS/src/Socket.h',
				'../external/uWS/src/uWS.h',
				'../external/uWS/src/WebSocket.cpp',
				'../external/uWS/src/WebSocket.h',
				'../external/uWS/src/WebSocketProtocol.h',
				'../external/cpr/cpr/auth.cpp',
				'../external/cpr/cpr/cookies.cpp',
				'../external/cpr/cpr/cprtypes.cpp',
				'../external/cpr/cpr/digest.cpp',
				'../external/cpr/cpr/error.cpp',
				'../external/cpr/cpr/multipart.cpp',
				'../external/cpr/cpr/parameters.cpp',
				'../external/cpr/cpr/payload.cpp',
				'../external/cpr/cpr/proxies.cpp',
				'../external/cpr/cpr/session.cpp',
				'../external/cpr/cpr/ssl_options.cpp',
				'../external/cpr/cpr/timeout.cpp',
				'../external/cpr/cpr/util.cpp',
			]
		}
	]
}
